"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[310],{310:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r,o,c,i,a,u=t(439),s=t(791),h=t(87),f=t(689),l=t(43),d=t(168),m=t(444),p=m.ZP.form(r||(r=(0,d.Z)(["\n  margin-top: 20px;\n  margin-left: 30px;\n"]))),v=m.ZP.input(o||(o=(0,d.Z)(["\n  width: 300px;\n  height: 25px;\n  border-radius: 4px;\n  margin-right: 30px;\n"]))),g=m.ZP.p(c||(c=(0,d.Z)(["\n  margin-left: 30px;\n"]))),w=(0,m.ZP)(h.rU)(i||(i=(0,d.Z)(["\n  font-size: 20px;\n  font-weight: 400;\n  text-decoration: none;\n  color: #000;\n  :hover {\n     font-weight: 500;\n  }\n"]))),x=m.ZP.li(a||(a=(0,d.Z)(["\n  list-style: none;\n"]))),y=t(184);var j=function(){var n,e=(0,s.useState)([]),t=(0,u.Z)(e,2),r=t[0],o=t[1],c=(0,h.lr)(),i=(0,u.Z)(c,2),a=i[0],d=i[1],m=(0,f.TH)(),j=null!==(n=a.get("queryMovies"))&&void 0!==n?n:"",Z=(0,s.useState)(j),k=(0,u.Z)(Z,2),b=k[0],_=k[1],S=(0,s.useState)(!1),E=(0,u.Z)(S,2),P=E[0],q=E[1];return(0,s.useEffect)((function(){""!==j&&(0,l.bI)(j).then((function(n){if(!n.results.length)return q(!0),void o([]);q(!1),o(n.results)})).catch((function(n){return console.log(n)}))}),[j]),console.log(P),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(p,{type:"submit",onSubmit:function(n){n.preventDefault(),d({queryMovies:n.currentTarget.elements.search.value})},children:[(0,y.jsx)(v,{type:"text",name:"search",value:b,onChange:function(n){return _(n.target.value)},placeholder:"Search movie..."}),(0,y.jsx)("button",{children:"Search movie"})]}),(0,y.jsxs)(s.Suspense,{fallback:(0,y.jsx)("div",{children:"Loading..."}),children:[P&&(0,y.jsx)(g,{children:"There is no movies with this request. Please, try again"}),(0,y.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(n){var e=n.id,t=n.title,r=n.name;return(0,y.jsx)(x,{children:(0,y.jsx)(w,{to:"/movies/".concat(e),state:{from:m},children:t||r})},e)}))})]})]})}},43:function(n,e,t){t.d(e,{XI:function(){return i},bI:function(){return s},kK:function(){return a},sv:function(){return u},wr:function(){return c}});var r="a62f5be583049dd9d23498f3821d50e8",o="https://api.themoviedb.org/3";function c(){try{return fetch("".concat(o,"/trending/all/day?api_key=").concat(r)).then((function(n){return n.json()}))}catch(n){throw new Error(n.message)}}function i(n){try{return fetch("".concat(o,"/movie/").concat(n,"?api_key=").concat(r)).then((function(n){return n.json()}))}catch(e){throw new Error(e.message)}}function a(n){try{return fetch("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(r)).then((function(n){return n.json()}))}catch(e){throw new Error(e.message)}}function u(n){try{return fetch("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(r)).then((function(n){return n.json()}))}catch(e){throw new Error(e.message)}}function s(n){try{return fetch("".concat(o,"/search/movie?api_key=").concat(r,"&query=").concat(n)).then((function(n){return n.json()}))}catch(e){throw new Error(e.message)}}}}]);
//# sourceMappingURL=310.7f014b33.chunk.js.map