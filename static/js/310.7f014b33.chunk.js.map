{"version":3,"file":"static/js/310.7f014b33.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.jsx","servise/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const SearchForm = styled.form`\n  margin-top: 20px;\n  margin-left: 30px;\n`;\n\nexport const SearchInput = styled.input`\n  width: 300px;\n  height: 25px;\n  border-radius: 4px;\n  margin-right: 30px;\n`;\n\nexport const Text = styled.p`\n  margin-left: 30px;\n`;\n\nexport const ItemLink = styled(Link)`\n  font-size: 20px;\n  font-weight: 400;\n  text-decoration: none;\n  color: #000;\n  :hover {\n     font-weight: 500;\n  }\n`;\n\nexport const Item = styled.li`\n  list-style: none;\n`;\n\n","import { useState, useEffect, Suspense } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from 'servise/api';\nimport PropTypes from 'prop-types';\nimport { SearchForm, SearchInput, Text, ItemLink, Item } from './Movies.styled';\n\nfunction Movies() {\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const queryMovies = searchParams.get('queryMovies') ?? '';\n  const [firstName, setFirstName] = useState(queryMovies);\n  const [error, setError] = useState(false);\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ queryMovies: e.currentTarget.elements.search.value });\n  };\n\n  useEffect(() => {\n    if (queryMovies !== '') {\n      fetchSearchMovies(queryMovies)\n        .then(data => {\n          if (!data.results.length) {\n            setError(true);\n            setSearchMovies([]);\n            return;\n          }\n          setError(false);\n          setSearchMovies(data.results);\n        })\n        .catch(error => console.log(error));\n    }\n  }, [queryMovies]);\n\n  console.log(error);\n\n  return (\n    <>\n      <SearchForm type=\"submit\" onSubmit={handlerSubmit}>\n        <SearchInput\n          type=\"text\"\n          name=\"search\"\n          value={firstName}\n          onChange={e => setFirstName(e.target.value)}\n          placeholder=\"Search movie...\"\n        ></SearchInput>\n        <button>Search movie</button>\n      </SearchForm>\n      <Suspense fallback={<div>Loading...</div>}>\n        {error && (\n          <Text>There is no movies with this request. Please, try again</Text>\n        )}\n        <ul>\n          {searchMovies?.map(({ id, title, name }) => (\n            <Item key={id}>\n              <ItemLink to={`/movies/${id}`} state={{ from: location }}>\n                {title || name}\n              </ItemLink>\n            </Item>\n          ))}\n        </ul>\n      </Suspense>\n    </>\n  );\n}\n\nMovies.propTypes = {\n  searchMovies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Movies;\n","const APIKEY = 'a62f5be583049dd9d23498f3821d50e8';\nconst URL = 'https://api.themoviedb.org/3';\n\nexport function fetchTrendingMovies() {\n  try {\n    return fetch(`${URL}/trending/all/day?api_key=${APIKEY}`).then(response =>\n      response.json()\n    );\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nexport function fetchMoviesDetals(movieId) {\n  try {\n    return fetch(`${URL}/movie/${movieId}?api_key=${APIKEY}`).then(response =>\n      response.json()\n    );\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nexport function fetchMoviesCast(movieId) {\n  try {\n    return fetch(`${URL}/movie/${movieId}/credits?api_key=${APIKEY}`).then(\n      response => response.json()\n    );\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nexport function fetchMoviesReviews(movieId) {\n  try {\n    return fetch(`${URL}/movie/${movieId}/reviews?api_key=${APIKEY}`).then(\n      response => response.json()\n    );\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n\nexport function fetchSearchMovies(queryMovies) {\n  try {\n    return fetch(\n      `${URL}/search/movie?api_key=${APIKEY}&query=${queryMovies}`\n    ).then(response => response.json());\n  } catch (error) {\n    throw new Error(error.message);\n  }\n}\n"],"names":["SearchForm","styled","SearchInput","Text","ItemLink","Link","Item","useState","searchMovies","setSearchMovies","useSearchParams","searchParams","setSearchParams","location","useLocation","queryMovies","get","firstName","setFirstName","error","setError","useEffect","fetchSearchMovies","then","data","results","length","catch","console","log","type","onSubmit","e","preventDefault","currentTarget","elements","search","value","name","onChange","target","placeholder","Suspense","fallback","map","id","title","to","state","from","APIKEY","URL","fetchTrendingMovies","fetch","response","json","Error","message","fetchMoviesDetals","movieId","fetchMoviesCast","fetchMoviesReviews"],"sourceRoot":""}